整合RabbitMQ实现延迟消息

RabbitMQ:
    RabbitMQ是一个被广泛使用的开源消息队列。它是轻量级且易于部署的，它能支持多种消息协议。
    RabbitMQ可以部署在分布式和联合配置中，以满足高规模、高可用性的需求。
RabbitMQ的安装和使用:
    1、安装之前需安装Erlang:（还需要配置环境变量）
        安装Erlang:下载地址：http://erlang.org/download/otp_win64_21.3.exe;选择下一步。。。。
        配置环境变量：ERLANG_HOME=D:\Program Files\erl9.3 在path中添加%ERLANG_HOME%\bin;
    2、安装RabbitMQ，下载地址：https://dl.bintray.com/rabbitmq/all/rabbitmq-server/3.7.14/rabbitmq-server-3.7.14.exe
    3、安装完成后，进入RabbitMQ安装目录下的sbin目录
    4、在地址栏输入cmd并回车启动命令行，然后输入以下命令启动管理功能：rabbitmq-plugins enable rabbitmq_management
    访问地址查看是否安装成功：http://localhost:15672/
    5、输入账号密码并登录：guest guest

    6、创建帐号并设置其角色为管理员：mall mall


    标志	        中文名	            英文名	        描述
    P	        生产者	            Producer	    消息的发送者，可以将消息发送到交换机
    C	        消费者	            Consumer	    消息的接收者，从队列中获取消息进行消费
    X	        交换机	            Exchange	    接收生产者发送的消息，并根据路由键发送给指定队列
    Q	        队列	Queue	        存储从交换机发来的消息
    type        交换机类型	        type	                direct表示直接根据路由键（orange/black）发送消息


整合RabbitMQ实现延迟消息：
   1、 pom.xml:
        <!--消息队列相关依赖-->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-amqp</artifactId>
        </dependency>
        <!--lombok依赖-->
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
    2、修改SpringBoot配置文件：修改application.yml文件，在spring节点下添加RabbitMQ相关配置。
        rabbitmq:
            host: localhost # rabbitmq的连接地址
            port: 5672 # rabbitmq的连接端口号
            virtual-host: /mall # rabbitmq的虚拟host
            username: mall # rabbitmq的用户名
            password: mall # rabbitmq的密码
            publisher-confirms: true #如果对异步消息需要回调必须设置为true
    3、添加消息队列的枚举配置类QueueEnum：用于延迟消息队列及处理取消订单消息队列的常量定义，包括交换机名称、队列名称、路由键名称
    4、添加RabbitMQ的配置：用于配置交换机、队列及队列与交换机的绑定关系。

    交换机及队列说明
    mall.order.direct（取消订单消息队列所绑定的交换机）:绑定的队列为mall.order.cancel，一旦有消息以mall.order.cancel为路由键发过来，会发送到此队列。
    mall.order.direct.ttl（订单延迟消息队列所绑定的交换机）:绑定的队列为mall.order.cancel.ttl，一旦有消息以mall.order.cancel.ttl为路由键发送过来，会转发到此队列，并在此队列保存一定时间，等到超时后会自动将消息发送到mall.order.cancel（取消订单消息消费队列）。
    5、添加延迟消息的发送者CancelOrderSender：用于向订单延迟消息队列（mall.order.cancel.ttl）里发送消息。
    6、添加取消订单消息的接收者CancelOrderReceiver：用于从取消订单的消息队列（mall.order.cancel）里接收消息。
    6、添加OmsPortalOrderService接口：






